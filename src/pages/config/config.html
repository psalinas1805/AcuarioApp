<!--
  Generated template for the ConfigPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title class="ion-title-center">Configuraciones</ion-title>
  </ion-navbar>
</ion-header>

<!--ion-content padding class="animated fadeIn common-bg"-->
<ion-content class="common-bg">
  <ng-template #Edit>
    <ion-card>
      <ion-card-content>
        <ion-grid>
          <form [formGroup]="myForm" (ngSubmit)="saveData()">
            <ion-row>
              <ion-col col-4>Parámetro</ion-col>
              <ion-col col-4>
                <strong>Mínimo</strong>
              </ion-col>
              <ion-col col-4>
                <strong>Máximo</strong>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-4 >Temperatura</ion-col>
              <ion-col col-4 align-items-start>
                <ion-input class="form-group" formControlName="tempmin" type="number" value="{{configInit.itempmin}}" placeholder="{{configInit.itempmin}}"></ion-input>
              </ion-col>
              <ion-col col-4 align-items-end>
                <ion-input class="form-group" formControlName="tempmax" type="number" value="{{configInit.itempmax}}" placeholder="{{configInit.itempmax}}"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-4>Ph</ion-col>
              <ion-col col-4 align-items-start>
                <ion-input class="form-group" formControlName="phmin" type="number" value="{{configInit.iphmin}}" placeholder="{{configInit.iphmin}}"></ion-input>
              </ion-col>
              <ion-col col-4 align-items-end>
                <ion-input class="form-group" formControlName="phmax" type="number" value="{{configInit.iphmax}}" placeholder="{{configInit.iphmax}}"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-4>Luz Día</ion-col>
              <ion-col col-4 align-items-start>
                <!--ion-input formControlName="luzdiamin" type="time" value="{{configInit.iluzdiamin}}" placeholder="{{configInit.iluzdiamin}}"></ion-input-->
                <ion-datetime no-padding formControlName="luzdiamin" [(ngModel)]="configInit.iluzdiamin" placeholder="{{configInit.iluzdiamin}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
              <ion-col col-4 align-items-end>
                <!--ion-input formControlName="luzdiamax" type="time" value="{{configInit.iluzdiamax}}"  placeholder="{{configInit.iluzdiamax}}"></ion-input-->
                <ion-datetime no-padding formControlName="luzdiamax" [(ngModel)]="configInit.iluzdiamax" placeholder="{{configInit.iluzdiamax}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-4>Luz Noche</ion-col>
              <ion-col col-4 align-items-start>
                <!--ion-input formControlName="luznochemin" type="time" value="{{configInit.iluznochemin}}" placeholder="{{configInit.iluznochemin}}"></ion-input-->
                <ion-datetime no-padding formControlName="luznochemin" [(ngModel)]="configInit.iluznochemin" placeholder="{{configInit.iluznochemin}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
              <ion-col col-4 align-items-end>
                <!--ion-input formControlName="luznochemax" type="time" value="{{configInit.iluznochemax}}" placeholder="{{configInit.iluznochemax}}"></ion-input-->
                <ion-datetime no-padding formControlName="luznochemax" [(ngModel)]="configInit.iluznochemax" placeholder="{{configInit.iluznochemax}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-4>Aire</ion-col>
              <ion-col col-4 align-items-start>
                <!--ion-input formControlName="airemin" type="time" value="{{configInit.iairemin}}" placeholder="{{configInit.iairemin}}"></ion-input-->
                <ion-datetime no-padding formControlName="airemin" [(ngModel)]="configInit.iairemin" placeholder="{{configInit.iairemin}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
              <ion-col col-4 align-items-end>
                <!--ion-input formControlName="airemax" type="time" value="{{configInit.iairemax}}" placeholder="{{configInit.iairemax}}"></ion-input-->
                <ion-datetime no-padding formControlName="airemax" [(ngModel)]="configInit.iairemax" placeholder="{{configInit.iairemax}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-4>Filtro</ion-col>
              <ion-col col-4 align-items-start>
                <!--ion-input formControlName="filtromin" type="time" value="{{configInit.ifiltromin}}" placeholder="{{configInit.ifiltromin}}"></ion-input-->
                <ion-datetime no-padding formControlName="filtromin" [(ngModel)]="configInit.ifiltromin" placeholder="{{configInit.ifiltromin}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
              <ion-col col-4 align-items-end>
                <!--ion-input formControlName="filtromax" type="time" value="{{configInit.ifiltromax}}" placeholder="{{configInit.ifiltromax}}"></ion-input-->
                <ion-datetime no-padding formControlName="filtromax" [(ngModel)]="configInit.ifiltromax" placeholder="{{configInit.ifiltromax}}"
                  displayFormat="HH:mm"></ion-datetime>
              </ion-col>
            </ion-row>
            <ion-row radio-group no-padding formControlName="nivelagua">
              <ion-col col-4>Nivel</ion-col>
              <ion-col col-4>
                <ion-item no-padding class="item-radio-checked">
                  <ion-label no-padding>Si</ion-label>
                  <ion-radio no-padding value="Y" checked="{{this.valueY}}"></ion-radio>
                </ion-item>
              </ion-col>
              <ion-col col-4>
                <ion-item no-padding>
                  <ion-label no-padding>No</ion-label>
                  <ion-radio class="radio-icon radio-checked" value="N" checked="{{this.valueN}}"></ion-radio>
                </ion-item>
              </ion-col>
            </ion-row>
            <div text-center>
              <button padding ion-button type="submit" border color="secondary" [disabled]="!myForm.valid">Guardar</button>
              <button padding ion-button border color="secondary" (click)="editDiv()">Cancelar</button>
            </div>
          </form>
        </ion-grid>
      </ion-card-content>
    </ion-card>
  </ng-template>


  <ng-template #NoEdit>
    <ion-card>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col col-4>Parámetro</ion-col>
            <ion-col col-4>
              <strong>Mínimo</strong>
            </ion-col>
            <ion-col col-4>
              <strong>Máximo</strong>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4 >Temperatura</ion-col>
            <ion-col col-4 align-items-start>
              {{configInit.itempmin}}
            </ion-col>
            <ion-col col-4 align-items-end>
              {{configInit.itempmax}}
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>Ph</ion-col>
            <ion-col col-4 align-items-start>
              {{configInit.iphmin}}
            </ion-col>
            <ion-col col-4 align-items-end>
              {{configInit.iphmax}}
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>Luz Día</ion-col>
            <ion-col col-4 align-items-start>
              {{configInit.iluzdiamin}}
            </ion-col>
            <ion-col col-4 align-items-end>
              {{configInit.iluzdiamax}}
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>Luz Noche</ion-col>
            <ion-col col-4 align-items-start>
              {{configInit.iluznochemin}}
            </ion-col>
            <ion-col col-4 align-items-end>
              {{configInit.iluznochemax}}
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>Aire</ion-col>
            <ion-col col-4 align-items-start>
              {{configInit.iairemin}}
            </ion-col>
            <ion-col col-4 align-items-end>
              {{configInit.iairemax}}
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-4>Filtro</ion-col>
            <ion-col col-4 align-items-start>
              {{configInit.ifiltromin}}
            </ion-col>
            <ion-col col-4 align-items-end>
              {{configInit.ifiltromax}}
            </ion-col>
          </ion-row>
          <ion-row radio-group>
            <ion-col col-4>Nivel</ion-col>
            <ion-col col-4>
              <ion-item no-padding class="item-radio-checked">
                <ion-label no-padding>Si</ion-label>
                <ion-radio no-padding value="Y" checked="{{this.valueY}}"></ion-radio>
              </ion-item>
            </ion-col>
            <ion-col col-4>
              <ion-item no-padding>
                <ion-label no-padding>No</ion-label>
                <ion-radio class="radio-icon radio-checked" value="N" checked="{{this.valueN}}"></ion-radio>
              </ion-item>
            </ion-col>
          </ion-row>
          <div text-center>
            <button ion-button block color="secondary" (click)="editDiv()">Editar</button>
          </div>

        </ion-grid>
      </ion-card-content>
    </ion-card>
  </ng-template>

  <!--ng-template #NoEdit>
    <ion-card>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col col-4>Parámetro</ion-col>
            <ion-col col-4>
              <strong>Mínimo</strong>
            </ion-col>
            <ion-col col-4>
              <strong>Máximo</strong>
            </ion-col>
          </ion-row>
          <ion-row wrap *ngFor="let res of configAcuario">
            <ion-col col-4 align-items-start> {{res.description}} </ion-col>
            <ion-col col-4 align-items-end> {{res.valuemin}} </ion-col>
            <ion-col col-4 align-items-end> {{res.valuemax}} </ion-col>
         
          </ion-row>
        </ion-grid>
      </ion-card-content>
      <button ion-button block color="secondary" (click)="editDiv()">Editar</button>
    </ion-card>
  </ng-template-->

  <!--ng-template #Edit>
    <ion-card>
      <ion-card-header>
      </ion-card-header>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col col-4>Parámetro</ion-col>
            <ion-col col-4>
              <strong>Mínimo</strong>
            </ion-col>
            <ion-col col-4>
              <strong>Máximo</strong>
            </ion-col>
          </ion-row>
          <ion-row wrap *ngFor="let res of configAcuario">
            <ion-col col-4 align-items-start>{{res.description}}</ion-col>
            <ion-col col-4 align-items-end>
              <ion-input placeholder=" {{res.valuemin}}" [(ngModel)]="valorminimo.value"></ion-input>
            </ion-col>
            <ion-col col-4 align-items-end>
              <ion-input placeholder="{{res.valuemax}} "></ion-input>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
      <ion-row text-center>
        <ion-col>
          <button padding ion-button icon-start border color="secondary" (click)="guardar()"><ion-icon name="star"></ion-icon>Guardar</button>
        </ion-col>
        <ion-col>
          <button padding ion-button icon-end border color="secondary" (click)="editDiv()"><ion-icon name="star"></ion-icon>Cancelar</button>
        </ion-col>
      </ion-row>
    </ion-card>
  </ng-template-->

  <div *ngIf="edit;then Edit else NoEdit"></div>


  <ng-template #ModoManual>
    <ion-card class="transparent-bg">
      <ion-card-header no-padding text-center>
        <button ion-button (click)="toggleDiv()" color="energy" disabled="true">Manual</button>
        <button ion-button (click)="toggleDiv()">Automático</button>
      </ion-card-header>

      <ion-card-content class="transparent-bg">
        <ion-item class="transparent-bg">
          <ion-label>Calefactor</ion-label>
          <ion-toggle class="transparent-bg" disabled="false" [(ngModel)]="this.configArtefact.calefactor" (ionChange)="setState('1',this.configArtefact.calefactor)"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Ventilador</ion-label>
          <ion-toggle disabled="false" [(ngModel)]="this.configArtefact.ventilador" (ionChange)="setState('2', this.configArtefact.ventilador)"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Filtro de agua</ion-label>
          <ion-toggle disabled="false" [(ngModel)]="this.configArtefact.filtroagua" (ionChange)="setState('4', this.configArtefact.filtroagua)"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Oxigenador</ion-label>
          <ion-toggle disabled="false" [(ngModel)]="this.configArtefact.aire" (ionChange)="setState('5', this.configArtefact.aire)"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Luces</ion-label>
          <ion-toggle disabled="false" [(ngModel)]="this.configArtefact.luz" (ionChange)="setState('3', this.configArtefact.luz)"></ion-toggle>
        </ion-item>
      </ion-card-content>

    </ion-card>
  </ng-template>
  <ng-template #ModoAutomatico>
    <ion-card class="common-bg">
      <ion-card-header no-padding text-center>
        <button ion-button (click)="toggleDiv()">Manual</button>
        <button ion-button (click)="toggleDiv()" color="energy" disabled="true">Automático</button>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label>Calefactor</ion-label>
          <ion-toggle disabled="true" [(ngModel)]="this.configArtefact.calefactor"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Ventilador</ion-label>
          <ion-toggle disabled="true" [(ngModel)]="this.configArtefact.ventilador"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Filtro de agua</ion-label>
          <ion-toggle disabled="true" [(ngModel)]="this.configArtefact.filtroagua"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Oxigenador</ion-label>
          <ion-toggle disabled="true" [(ngModel)]="this.configArtefact.aire"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Luces</ion-label>
          <ion-toggle disabled="true" [(ngModel)]="this.configArtefact.luz"></ion-toggle>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </ng-template>
  <div *ngIf="manual;then ModoManual else ModoAutomatico"></div>



</ion-content>